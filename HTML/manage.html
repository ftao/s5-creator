<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" debug="true">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>S5 Editor</title>
<link rel="stylesheet" href="css/layout.css" media="screen"/>
<!--script type="text/javascript" src="js/firebug-lite/firebug.js"></script-->
<!--script type="text/javascript" src="js/jquery/jquery-latest.pack.js"></script-->
<script type="text/javascript" src="js/jquery/jquery-1.2.1.js"></script>
<script type="text/javascript" src="js/utils.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0/ui.mouse.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0/ui.draggable.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0//ui.draggable.ext.js"></script>


<script type="text/javascript" src="js/jquery/json.js"></script>
<script type="text/javascript">
	//console = {log : function(){}};
</script>
<script type="text/javascript" src="js/s5creator/slide.js"></script>
<script type="text/javascript" src="js/s5creator/backend.js"></script>

<link rel="stylesheet" href="js/jquery.ui-1.0/themes/flora/flora.all.css" type="text/css" media="screen" title="Flora (Default)">
<script type="text/javascript" src="js/jquery.ui-1.0/jquery.dimensions.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0/ui.dialog.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0/ui.resizable.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0/ui.mouse.js"></script>
<script type="text/javascript" src="js/jquery.ui-1.0/ui.draggable.js"></script>
<script type="text/javascript">
jQuery(function() {
	backend = new PHPBackend();
	backend.list(function(data){
		$.each(data,
			function(i,obj)
			{
				$('.file_list').append(
					"<li pid='" + obj.presentation_id + "'>"
				  + obj.name
				  + "</li>");
			}
		);
		$(".file_list").find("li").click(
			function(event){
				var pid = $(this).attr("pid");
				window.open("editor.htm?" + pid);
			}
		);

	});
	//load file list
});
		function(data)
		{
			var html = "<ol style='cursor: default;text-align:left'>";
			for(var i = 0 ; i < data.length; i++)
			{
				html += "<li pid='" + data[i].presentation_id + "'>"
				html += data[i].name;
				html += "</li>";
			}
			html += "</ol>";
			var list = $(html);
			$(list).find("li").click(
				function(event){
					dlg.dialogClose();
					var pid = $(this).attr("pid");
					pt.load(pid);
				}
			);

			dlg.empty().append(list);
			dlg.parents(".ui-dialog").height(50 + list.height());
		}
</script>
</head>
<body>
<div id="contentWrapper">
	<div id="header">
		<h1>Your S5 Files</h1>
	</div>
	<div id="left">
		<h1>文件列表</h1>
		本应该在这里提供树形列表的. 暂时不用了..
		<ol style="cursor: default;text-align:left">
		</ol>
	</div>
	<div id="main">
		<ul class="file_list" style="cursor: default;text-align:left">
		</ul>
	</div>
</div>

</body>
</html>
